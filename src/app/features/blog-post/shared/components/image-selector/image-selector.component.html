<div class="modal-dialog modal-lg modal-dialog-centered">
  <div class="modal-content">
    <div class="modal-header">
      <h1 class="modal-title fs-5" id="selectModalLabel">Images</h1>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="modal"
        aria-label="Close"
      ></button>
    </div>
    <div class="modal-body">
      <h4>Upload Image</h4>

      <form
        novalidate
        [formGroup]="form"
        (ngSubmit)="uploadImage()"
        name="imageForm"
      >
        <div class="mt-3">
          <input
            type="file"
            id="fileInput"
            class="form-control"
            (change)="onFileUploadChange($event)"
            name="file"
            formControlName="file"
          />
        </div>
        <div class="mt-3">
          <input
            type="text"
            class="form-control"
            placeholder="File Name"
            name="fileName"
            formControlName="fileName"
          />
        </div>
        <div class="mt-3">
          <input
            type="text"
            class="form-control"
            placeholder="Title"
            name="title"
            formControlName="title"
          />
        </div>
        <button
          type="submit"
          class="btn btn-success form-control mt-3"
          data-bs-dismiss="modal"
          aria-label="Close"
          [disabled]="!form.valid"
        >
          Upload
        </button>
      </form>
    </div>

    @if (!noImages) {
      <div class="container-fluid mt-3 p-3">
        <h5>or chose an uploaded image:</h5>
        <div
          class="scroll scroll--simple pictureWindow bg-dark-subtle rounded-3"
        >
          @if (images$ | async; as images) {
            <div class="row align-items-start justify-content-center ms-2 mt-4">
              @for (image of images; track image) {
                <div
                  class="imgStyle rounded-3 border-1 border-light-subtle mb-4 me-3 mt-3"
                >
                  <img
                    [src]="image.url"
                    [title]="image.title"
                    class="custom-image rounded-3 mt-3"
                  />
                  <div class="mb-2 text-center">
                    <p class="fst-italic mt-3">{{ image.title }}</p>
                    <button
                      class="btn btn-secondary me-2"
                      data-bs-dismiss="modal"
                      (click)="selectImage(image)"
                    >
                      choose
                    </button>
                    <button class="btn btn-danger" (click)="deleteImage(image)">
                      delete
                    </button>
                  </div>
                </div>
              }
            </div>
          }
        </div>
      </div>
    }
  </div>
</div>
