<div class="container">
  <h1 class="mt-4 mb-5">Blog Post List</h1>

  @if( blogPost$ | async; as blogPosts ){
  <table class="table table-bordered mt-3">
    <thead>
      <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Date</th>
        <th>Is Visible?</th>
        <th>Categories</th>
        <th>
          <span class="d-flex justify-content-center align-items-center mb-1">
            <i class="bi bi-tools"></i>
          </span>
        </th>
      </tr>
    </thead>
    <tbody>
      @for(blogPost of blogPosts; track blogPost){
      <tr>
        <td>{{ blogPost.title }}</td>
        <td class="text-center">{{ blogPost.author }}</td>
        <td class="text-center">{{ blogPost.publishedDate  | date : "yyyy-MM-dd" }}</td>
        <td class="text-center">{{ blogPost.isVisible }}</td>
        <td class="text-center">
          @for(category of blogPost.categories; track category) {
          <span class="badge bg-secondary me-1 mt-2">{{ category.name }}</span>
          }
        </td>
        <td>
          <span class="d-flex justify-content-center align-items-center"
            ><a
              class="btn btn-secondary"
              [routerLink]="['/admin/blogposts', blogPost.id]"
              >Edit</a
            >
          </span>
        </td>
      </tr>
      }
    </tbody>
  </table>
  }
   <div class="d-flex justify-content-between">
    <div class="flex-column align-item-start">
      <button
        class="btn btn-primary"
        [routerLink]="['/admin/blogposts/add']"
      >
        Add BlogPost
      </button>
    </div>
    <div class="flex-colmn align-item-end">
      <nav aria-label="Page navigation">
        <ul class="pagination">
          <li class="page-item">
            <!-- <a class="page-link" (click)="getPrevPage()">Previous</a> -->
            <a class="page-link">Previous</a>
          </li>
          <!-- @for (item of list; track item; let idx = $index) { -->
          <li class="page-item">
            <!-- <a class="page-link" (click)="getPage(idx + 1)">{{ idx + 1 }}</a> -->
            <a class="page-link">1</a>
          </li>
          <!-- } -->
          <li class="page-item">
            <!-- <a class="page-link" (click)="getNextPage()">Next</a> -->
            <a class="page-link">Next</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>
